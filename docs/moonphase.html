<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Moon Phase Info</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="container">
		<header>
			<h1>AlpacaPi</h1>
			<h2>Moon Phase Info</h2>
		</header>

		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="skytravel.html">SkyTravel</a></li>
				<li><a href="drivers.html">Drivers</a></li>
				<li><a href="clientapps.html">Client Apps</a></li>
				<li><a href="moonphase.html">Moon Phase</a></li>
				<li><a href="skyimage.html">SkyImage</a></li>
				<li><a href="aavsoTargetTool.html">AAVSO</a></li>
			</ul>
		</nav>

		<main>
			<p>The AlpacaPi software suite uses the moon phase both in the camera driver and in the SkyTravel alplication.</p>

			<p>In the camera driver it is used to save the current phase, age, illumination data in the image FITS file.
			This data is useful in understanding how dark the skies where at the time the picture was taken.</p>

			<p>In the SkyTravel application, this information is displayed
			so that you know exactly what the phase of the moon is when you are observing.</p>

			<p>Prior to March of 2024, I used some code I found on github to determine the phase,
			it was often off by a day so I looked for another solution.
			That solution can be found at
			<a href="https://svs.gsfc.nasa.gov/gallery/moonphase/" target="_blank">https://svs.gsfc.nasa.gov/gallery/moonphase/</a></p>

			<p>If the data from NASA has not been downloaded, then the camera driver will use the previous code
			to deterine the phase. The NASA moon phase files are included in the AlpacaPi distribution
			so they do not have to be downloaded until the next year.</p>

			<h1 class="text-center">SkyTravel moon phase screen</h1>
			<div class="center">
				<img src="images/moonphase.png" alt="Moon phase screen" style="width: 95%;">
			</div>

			<table>
				<tr>
					<th>Moon information as it appears in the FITS header</th>
				</tr>
				<tr>
					<td>
						<pre>COMMENT = '-------------------------------------Moon Info----------------------'
COMMENT = 'Moon Phase info from NASA'
COMMENT = 'https://svs.gsfc.nasa.gov/gallery/moonphase/'
COMMENT = '2024 Moon data: https://svs.gsfc.nasa.gov/5187'
COMMENT = 'Calculated WRT UTC time and location (Greenwich, UK)'
COMMENT = '2024-04-06T15:25:42.498Z'
MOONPHAS= 'Waning crescent'    / Current Moon Phase
MOONILUM=     6.69863333333333 / Percent illumination
MOONAGE =     27.2675616666667 / Number of days since new moon
MOONDIAM=     1991.37133333333 / Diameter of the moon (arcseconds)
MOONDIST=               359912 / Distance to moon (km)
MOON-RA =               23.261 / Right Ascension of moon (J2000)
MOON-DEC=              -7.5066 / Declination of moon (J2000)
MOONAXIS=    -21.6758483333333 / North Polar Axis Angle (degrees)
MOONELAT=              3.22073 / Libration angle Latitude (degrees)
MOONELON=            -1.917875 / Libration angle Longitude (degrees)
MOONVIS =                    T / Moon is visible
COMMENT = 'Note: These times are local time zone NOT UTC'
COMMENT = 'Previous moon event:'
MOONPREV= 'Moon rise at Sat Apr  6 05:35:30 2024, Azimuth 101.72'
COMMENT = 'Next moon event:'
MOONNEXT= 'Moon set at Sat Apr  6 17:07:37 2024, Azimuth 262.62'</pre>
					</td>
				</tr>
			</table>
		</main>
	</div>
</body>
</html>
